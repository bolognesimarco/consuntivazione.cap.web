<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<script src="js/jquery-1.11.1.js"></script>
<style>
	.mt{
		display: table;
		border: solid 1px red;
	}
	.mth{
		display: table-row;
	}
	.mth_ec{
		display: table-cell;
		border: solid 1px green;
		width: 100px;
	}
	.mth_hc{
		display: table-cell;
		border: solid 1px magenta;
		width: 200px; /* temp */
	}
	
</style>
</head>
<body>

<script type="text/javascript">

var mesi = [{"data":new Date(2014, 6, 30)},{"data":new Date(2014, 7, 31)},{"data":new Date(2014, 8, 31)}];
var ordini = [
              {"worker":{"name":"Bolognesi"}},
              {"worker":{"name":"Barigelli"}},
              {"worker":{"name":"Bruni"}},
              {"worker":{"name":"Gnignera"}},
              {"worker":{"name":"Bolognesi2"}},
              {"worker":{"name":"Barigelli2"}},
              {"worker":{"name":"Bruni2"}},
              {"worker":{"name":"Gnignera2"}}
              ];
              
              
(function ( $ ) {
	$.fn.miotable = function(options){

		var settings = $.extend({
			
		}, options);
		
		var table = $(document.createElement('div'));
		table.attr('class', 'mt');
		
		var header = $(document.createElement('div'));
		header.attr('class', 'mth');
		table.append(header);
		
		var leftemptycell = $(document.createElement('div'));
		leftemptycell.attr('class', 'mth_ec');
		leftemptycell.text("lec");
		header.append(leftemptycell);
		
		var headercell = $(document.createElement('div'));
		headercell.attr('class', 'mth_hc');
		headercell.text("hc");
		header.append(headercell);
		
		var rightemptycell = $(document.createElement('div'));
		rightemptycell.attr('class', 'mth_ec');
		rightemptycell.text("rec");
		header.append(rightemptycell);
		
		this.append(table);
		
	};
}(jQuery));
              
              
              
$(document).ready(function(){
	var table = $(document.createElement('table'));
	$.each(ordini, function(i, item){
		var tr = $(document.createElement('tr'));
		var td = $(document.createElement('td'));
		td.text(item.worker.name);
		tr.append(td);
		table.append(tr);
	});
	$("#rowheader").append(table);
	
	
	$("#mainscroller").scroll(function(event){
		console.log(event.currentTarget.scrollLeft);
		console.log( "event object:" );
	    console.dir( event );
	    document.getElementById("aaa").scrollLeft = event.currentTarget.scrollLeft;
	    document.getElementById("bbb").scrollLeft = event.currentTarget.scrollLeft;
	});
	
	$("#miotablecontainer").miotable();
	
});

</script>


	<div style="display: table; border: solid 1px red;"> 
		<div style="height: 25px; display: table-row;">
			<div style="display: table-cell;">
			
				<div style="display: table">
					<div style="display: table-row">
						<div style="display: table-cell">
							<div style="display: table-cell; width: 100px; border: solid 1px green;"></div>
							<div style="display: table-cell; border: solid 1px cyan;">
								<div id="aaa" style="width: 200px; overflow-x: hidden;">
									12345678901234567890123456789012345678901234567890
								</div>
							</div>
							<div style="display: table-cell; width: 100px; border: solid 1px magenta;"></div>
						</div>
					</div>
				</div>
				
			</div>
		</div>
		
		
		<div style="height: 100px; display: table-row;">		
			<div style="display: table-cell; border: solid 1px yellow;">
			
				<div style="height: 100px; overflow-y: scroll">
					<div style="height: 100px;">
						<div style="display: table;">
							<div style="display: table-row;">
								<div id="rowheader" style="display: table-cell; width: 100px;"></div>
								<div id="content" style="display: table-cell;">
									<div id="bbb" style="width: 200px; overflow-x: hidden;">
										12345678901234567890123456789012345678901234567890
									</div></div>
								<div id="rowfooter" style="display: table-cell; width: 100px;"></div>
							</div>
						</div>
					</div>
				</div>
				
			</div>
		</div>
		
		
		<div style="height: 25px; display: table-row;">
			<div style="display: table-cell;">
			
				<div style="display: table">
					<div style="display: table-row">
						<div style="display: table-cell">
							<div style="display: table-cell; width: 100px; border: solid 1px green;"></div>
							<div style="display: table-cell; border: solid 1px cyan;">
								<div id="mainscroller" style="width: 200px; overflow-x: scroll">
									<div style="width: 200px;">
										12345678901234567890123456789012345678901234567890
									</div>
								</div>
							</div>
							<div style="display: table-cell; width: 100px; border: solid 1px magenta;"></div>
						</div>
					</div>
				</div>
				
			</div>
		</div>
	
	</div>	
	
	<div id="miotablecontainer"></div>
	
</body>
</html>